<div class="EMIEpage-title">{{PageNameRedirected}}</div>
<div disable-all="isUserPageDisabled">
    <form name="form" id="CreateUserForm" ng-submit="$event.preventDefault()">
        <div class="row">
            <div class="col-lg-6">

                <div class="row">
                    <div><span class="EMIEControllabel">USER EMAIL</span><sup>*</sup></div>
                    <div class="col-lg-9">
                        <input type="text" name="txtUserEmail" id="txtUserEmail" ng-change="GetUserEmailText(NewUserEmail)" ng-minlength="5" class="form-control" data-ng-model="NewUserEmail" required data-toggle="dropdown">
                        <span class="error" ng-show="(form.txtUserEmail.$dirty || submitted) && form.txtUserEmail.$error.required">Required!</span>
                        <span class="error" ng-show="(form.txtUserEmail.$dirty || submitted) && form.txtUserEmail.$error.minlength">Too short!</span>

                        <!--<button type="button" class="btn btn-default btn-success glyphicon glyphicon-search" ><span class="caret"></span></button>-->
                        <ul id="color-dropdown-menu" class="dropdown-menu dropdown-menu-right" ng-show="searcheduserlist.length>=1" style="width:425px;height:auto;max-height:400px !important;overflow-y:scroll" role="menu">
                            <li ng-repeat="user in searcheduserlist" class="input-lg" ng-click="searchedUserFromDDL(user)" style="margin:5px">{{user.DisplayName}}</li>
                        </ul>
                        <span class="dropdown-menu dropdown-menu-left" style="padding-left: 7px; margin-left: 14px; width: 411px; " ng-model="NoResultText" ng-show="searcheduserlist.length==0 && NewUserEmail.length>1">No users matching "{{NewUserEmail}}" were found. </span>
                        <span class="dropdown-menu dropdown-menu-left" style="padding-left: 7px; margin-left: 14px; width: 411px; " ng-show=" NewUserEmail.length>1&& IsSearching  ">Searching user.... </span>

                    </div>

                    <div class="col-lg-2">
                    </div>
                </div>

                <div class="row">
                    <div><span class="EMIEControllabel">USER NAME</span></div>
                    <div class="col-lg-9">
                        <input type="text" name="txtUserName" id="txtUserName" class="form-control" data-ng-model="NewUserName" required disabled>
                        <span class="error" ng-show="(form.txtUserName.$dirty || submitted) && form.txtUserName.$error.required">Required!</span>
                    </div>
                </div>

                <div class="row">
                    <div><span class="EMIEControllabel">ROLE</span><sup>*</sup></div>
                    <div class="col-lg-9">
                        <select class="form-control" name="selectRole" ng-model="NewUserRole" ng-change="BindBPUForSelectedRole(NewUserRole)" ng-options="role.RoleName for role in roleList" required>
                            <option value='' disabled selected>Select</option>
                        </select>
                        <span class="error" ng-show="(form.selectRole.$dirty || submitted) && form.selectRole.$error.required">Required!</span>
                    </div>
                </div>

                <div class="row">
                    <div><span class="EMIEControllabel">GROUP NAME</span><sup>*</sup></div>
                    <div class="col-lg-9">
                        <select class="form-control" name="selectBPU" ng-model="selectedBPU" ng-disabled="DDLDisableOnALLGroup" ng-options="bpu.BPU1 disable when bpu.AllBPUDiabled for bpu in bpuList" required>
                            <option value='' disabled selected>Select</option>
                        </select>
                        <span class="error" ng-show="(form.selectBPU.$dirty || submitted) && form.selectBPU.$error.required">Required!</span>
                    </div>
                </div>

                <div class="row">
                    <div><span class="EMIEControllabel">COMMENTS</span></div>
                    <div class="col-lg-9">
                        <textarea id="TextAreaComments" name="txtComments" rows="4" class="form-control" data-ng-model="Comments" maxlength="100"></textarea>
                    </div>
                </div>
                <br />
                <div class="row" ng-hide="IsActiveCreateUserPageHidden">

                    <div class="col-lg-9 checkbox">
                        <label><input type="checkbox" ng-model="IsActive" />ACTIVE</label>
                    </div>
                </div>
                <br />
                <div>
                    <button type="button" class="btn btn-success" ng-disabled="SaveBtnDisable" ng-click="AddUser()">Save</button>
                    <button type="reset" class="btn btn-success" ng-click="ClearAllFiledsOfCreatePage()">Clear</button>
                    <span ng-show="loginlinkshow"> Already Registered? <a href="#/Login">Login</a> here.</span>
                </div>
            </div>

        </div>
        <message-center></message-center>
    </form>
</div>


<script>

    url();
</script>
